<!DOCTYPE html>
<html lang="en">
<head>
 <title>Deck Test</title>
 
 <meta charset="utf-8" />
 <meta name="author" content="erenon" />

 <link href="../client/css/style.old.css" type="text/css" rel="stylesheet" />
 
 <script type="text/javascript" src="../client/js/jquery.js"></script>
 <script type="text/javascript" src="../client/js/jquery.csshooks.js"></script> 
 <script type="text/javascript" src="../client/js/Deck.js"></script>
 <script type="text/javascript" src="../client/js/CardBuilder.js"></script>
 <script type="text/javascript" src="../client/js/PubSub.js"></script>  

 <style>
body {
    background: #056100;
}

#deckTarget {
    border: 1px dotted #f00;
    position: absolute;
    top: 30%;
    left: 40%;
    width: 140px;
    height: 200px;
}

#playerHand {
    border: 1px dotted #f00;
    position: absolute;
    top: 400px;
    left: 50px;
    height: 200px; 
    width: 400px;  
}
 </style>
 <script>
$(document).ready(function() {
var pubsub = PubSub(),
    deck = Deck({
        $: $,
        target: $('#deckTarget'),
        pubsub: pubsub
    }),
    cb = CardBuilder({
        $: $
    }),
    card = cb.get({color: 'red', value: 5}),
    isCardInHand = true;
    ;
    
    $('#playerHand').append(card);
    
    $('#pushButton').click(function() {
        if (isCardInHand) {
            deck.pushCard(card);
            isCardInHand = false;
        }
    });
    
    $('#pullButton').click(function() {
        if (!isCardInHand) {
            card.detach();
            $('#playerHand').append(card);
            deck.pullCard(card);
            isCardInHand = true;
        }
    });
    
    $('#speedInput').change(function() {
        pubsub.emit('changeGameSpeed', {
            speed: $('#speedInput').val()
        });
    });
});
 </script>
</head>
<body>
    <ul class="buttonContainer">
        <li><a id="pushButton" class="button">Push</a></li>
        <li><a id="pullButton" class="button">Pull</a></li>
        <li><input type="text" size="5" value="200" id="speedInput"/></li>
    </ul>
    <div id="deckTarget" />
    <div id="playerHand" />
</body>
</html>

